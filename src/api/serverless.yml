service: tide-api
provider:
  name: aws
  runtime: nodejs12.x
  stage: ${opt:stage, 'dev'}
  region: eu-central-1
  memorySize: 256 # default 1024 is way to much for nodejs
  logRetentionInDays: 14 # long enough for my purposes
  stackTags:
    GIT_SHA1: ${env:GITHUB_SHA, 'local-non-ci-build'}
    GIT_BRANCH: ${env:GITHUB_REF, 'no-branch-ref-known'}
    APP_VERSION: ${file(./package.json):version}
package:
  individually: true
  excludeDevDependencies: true
functions:
  getLocations: ${file(src/api/functions/getLocations/getLocations.yml)}
  getTide: ${file(src/api/functions/getTide/getTide.yml)}
plugins:
#  - serverless-webpack
  - serverless-plugin-typescript
